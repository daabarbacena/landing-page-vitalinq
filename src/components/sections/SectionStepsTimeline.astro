---
const steps = [
  {
    number: 1,
    title: "Você envia sua receita",
    description: "Compartilhe sua prescrição médica. Nossa equipe analisa e orienta os próximos passos.",
  },
  {
    number: 2,
    title: "Preparamos a documentação",
    description: "Cuidamos da parte regulatória conforme as exigências da ANVISA.",
  },
  {
    number: 3,
    title: "Realizamos a importação",
    description: "Compramos diretamente de fabricantes e distribuidores internacionais homologados.",
  },
  {
    number: 4,
    title: "Acompanhamos o processo",
    description: "Do embarque ao desembaraço aduaneiro, você recebe atualizações claras.",
  },
  {
    number: 5,
    title: "Entrega e suporte contínuo",
    description: "Seu medicamento chega com rastreabilidade e permanecemos disponíveis para suporte.",
  },
];
---

<section
  id="passos"
  aria-labelledby="steps-heading"
  class="relative bg-white py-16 sm:py-20 lg:py-28"
>
  <!-- Decoração de fundo sutil -->
  <div
    class="pointer-events-none absolute inset-0 overflow-hidden"
    aria-hidden="true"
  >
    <div
      class="absolute right-0 top-1/4 h-96 w-96 rounded-full bg-[#673de6]/5 blur-3xl"
    ></div>
  </div>

  <div class="relative z-10 mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
    <!-- Cabeçalho -->
    <div class="text-center">
      <h2
        id="steps-heading"
        class="text-3xl font-bold leading-tight tracking-tight text-[#191919] sm:text-4xl lg:text-5xl"
      >
        Importe seu medicamento em 5 etapas orientadas
      </h2>
      <p class="mt-6 text-lg text-neutral-600 max-w-3xl mx-auto">
        Você entende cada etapa. Nós cuidamos da documentação, do processo de importação e do acompanhamento até a entrega.
      </p>
    </div>

    <!-- Timeline -->
    <ol class="mt-16 space-y-0 relative lg:mt-20">
      <!-- Linha vertical animada conectando todas as etapas -->
      <div class="absolute left-6 top-6 bottom-6 w-0.5 bg-[#191919]/10 sm:left-7 lg:left-1/2 lg:-translate-x-px overflow-hidden">
        <div class="animated-line h-full w-full bg-gradient-to-b from-[#673de6] to-[#5025d1] origin-top"></div>
      </div>
      
      {
        steps.map((step, idx) => {
          const isLast = idx === steps.length - 1;
          return (
            <li class="relative pb-12 sm:pb-16 lg:pb-20">
              {/* Grid container para alternância no desktop */}
              <div class="flex gap-4 sm:gap-6 lg:gap-0">
                {/* Nó / Número */}
                <div class="flex flex-col items-center flex-shrink-0 relative z-10">
                  <div class="relative flex h-12 w-12 items-center justify-center rounded-full bg-[#673de6] text-xl font-bold text-white shadow-lg ring-4 ring-white">
                    {step.number}
                  </div>
                </div>

                {/* Card do passo */}
                <div class="flex-1 min-w-0 pt-1">
                  <div class="rounded-2xl border border-[#191919]/10 bg-white p-6 sm:p-8 shadow-sm hover:shadow-md transition-shadow">
                    {/* Badge opcional */}
                    <span class="inline-block rounded-full bg-[#673de6]/10 px-3 py-1 text-xs font-semibold text-[#673de6] mb-4">
                      Etapa {step.number}
                    </span>

                    <h3 class="text-xl font-semibold text-[#191919]">
                      {step.title}
                    </h3>
                    <p class="mt-2 text-sm sm:text-base text-neutral-600 leading-relaxed">
                      {step.description}
                    </p>
                  </div>
                </div>
              </div>
            </li>
          );
        })
      }
    </ol>

    <style>
      @keyframes drawLine {
        from {
          transform: scaleY(0);
        }
        to {
          transform: scaleY(1);
        }
      }

      .animated-line {
        animation: drawLine 2s ease-out forwards;
        animation-delay: 0.3s;
        transform: scaleY(0);
      }
    </style>

    <!-- Microtexto de confiança -->
    <div class="mt-12 text-center">
      <p class="text-xs sm:text-sm text-neutral-400 italic">
        Em cada etapa, você recebe orientação clara e suporte humano.
      </p>
    </div>

    <!-- CTAs -->
    <div class="mt-12 flex flex-col gap-3 sm:flex-row sm:justify-center sm:gap-4 lg:mt-16">
      <a
        href="/#contato"
        class="rounded-lg bg-[#673de6] px-6 py-3 text-center font-semibold text-white shadow-lg transition-all hover:shadow-[0_0_32px_rgba(112,71,235,0.4)] focus:outline-none focus:ring-2 focus:ring-[#673de6] focus:ring-offset-2"
      >
        Solicitar cotação
      </a>
      <a
        href="/#contato"
        class="rounded-lg border-2 border-[#673de6] px-6 py-3 text-center font-semibold text-[#673de6] transition-colors hover:bg-[#673de6]/5 focus:outline-none focus:ring-2 focus:ring-[#673de6] focus:ring-offset-2"
      >
        Tirar dúvidas
      </a>
    </div>
  </div>
</section>
